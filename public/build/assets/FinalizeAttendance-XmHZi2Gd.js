import{r as m,j as e}from"./app-EWy31Jtg.js";import{X as g}from"./x-BguCJ5p2.js";import{C as h}from"./circle-alert-BN40pgiF.js";import"./createLucideIcon-UBDqu0Zv.js";function y({students:i,attendance:u,markedAttendance:l,onClose:a,onFinalize:c}){const[r,d]=m.useState([]),n=i.filter(s=>!l.some(t=>t.student_id===s.id)),o=s=>{d(t=>t.includes(s)?t.filter(x=>x!==s):[...t,s])};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-lg mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Finalize Attendance"}),e.jsx("button",{onClick:a,className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(g,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-amber-50 text-amber-800 rounded-lg mb-4",children:[e.jsx(h,{className:"w-5 h-5 flex-shrink-0"}),e.jsxs("p",{className:"text-sm",children:[n.length," students haven't been marked. Select students with valid excuses before marking the rest as absent."]})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.map(s=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.registration_number})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:r.includes(s.id.toString()),onChange:()=>o(s.id.toString()),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Excused"})]})]},s.id))}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>c(r),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Finalize Attendance"})]})]})]})})}export{y as default};
